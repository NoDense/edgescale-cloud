cluster.name = emqcl
cluster.discovery = manual
cluster.autoheal = on
cluster.autoclean = 5m

node.name = emq@127.0.0.1
node.cookie = emqsecretcookie
node.smp = auto

node.kernel_poll = on
node.async_threads = 32
node.process_limit = 2560000
node.max_ports = 2000000
node.dist_buffer_size = 8MB
node.max_ets_tables = 256000
node.fullsweep_after = 1000
node.crash_dump = log/crash.dump
node.proto_dist = inet_tcp
node.dist_net_ticktime = 60
node.dist_listen_min = 6369
node.dist_listen_max = 6379


log.dir = log
log.console = console
log.console.level = error


log.error.file = log/error.log
log.error.size = 10485760
log.error.count = 5
log.crash = on
log.crash.file = log/crash.log
log.syslog = on
log.syslog.level = error

mqtt.allow_anonymous = true
mqtt.acl_nomatch = allow
mqtt.acl_file = etc/acl.conf
mqtt.cache_acl = true
mqtt.max_clientid_len = 1024
mqtt.max_packet_size = 64KB
mqtt.websocket_protocol_header = on
mqtt.keepalive_backoff = 0.75
mqtt.conn.force_gc_count = 100
mqtt.client.idle_timeout = 30s
mqtt.client.enable_stats = off

mqtt.session.max_subscriptions = 0
mqtt.session.upgrade_qos = off
mqtt.session.max_inflight = 32
mqtt.session.retry_interval = 20s
mqtt.session.max_awaiting_rel = 1000
mqtt.session.await_rel_timeout = 30s
mqtt.session.enable_stats = on
mqtt.session.expiry_interval = 2h

mqtt.session.ignore_loop_deliver = false


mqtt.mqueue.type = simple


mqtt.mqueue.max_length = 1000

mqtt.mqueue.low_watermark = 20%

mqtt.mqueue.high_watermark = 60%

mqtt.mqueue.store_qos0 = true


mqtt.broker.sys_interval = 1m

mqtt.pubsub.pool_size = 8

mqtt.pubsub.async = true


mqtt.bridge.max_queue_len = 10000

mqtt.bridge.ping_down_interval = 1s


mqtt.plugins.etc_dir =etc/plugins/

mqtt.plugins.loaded_file = data/loaded_plugins



listener.tcp.external = 0.0.0.0:1883

listener.tcp.external.acceptors = 64

listener.tcp.external.max_clients = 1024000




listener.tcp.external.access.1 = allow all




listener.tcp.external.backlog = 1024

listener.tcp.external.send_timeout = 15s

listener.tcp.external.send_timeout_close = on





listener.tcp.external.nodelay = true

listener.tcp.external.reuseaddr = true


listener.tcp.internal = 127.0.0.1:11883

listener.tcp.internal.acceptors = 4

listener.tcp.internal.max_clients = 102400




listener.tcp.internal.backlog = 512

listener.tcp.internal.send_timeout = 5s

listener.tcp.external.send_timeout_close = on





listener.tcp.internal.nodelay = false

listener.tcp.internal.reuseaddr = true


listener.ssl.external = 8883

listener.ssl.external.acceptors = 16

listener.ssl.external.max_clients = 1024



listener.ssl.external.access.1 = allow all





listener.ssl.external.handshake_timeout = 15s

listener.ssl.external.keyfile = etc/certs/key.pem

listener.ssl.external.certfile = etc/certs/cert.pem

listener.ssl.external.cacertfile = etc/certs/cacert.pem

















listener.ssl.external.reuseaddr = true


listener.ws.external = 8083

listener.ws.external.acceptors = 4

listener.ws.external.max_clients = 102400



listener.ws.external.access.1 = allow all





listener.ws.external.backlog = 1024

listener.ws.external.send_timeout = 15s

listener.ws.external.send_timeout_close = on





listener.ws.external.nodelay = true

listener.ws.external.reuseaddr = true


listener.wss.external = 8084

listener.wss.external.acceptors = 4

listener.wss.external.max_clients = 64



listener.wss.external.access.1 = allow all






listener.wss.external.handshake_timeout = 15s

listener.wss.external.keyfile = etc/certs/key.pem

listener.wss.external.certfile = etc/certs/cert.pem










listener.wss.external.backlog = 1024

listener.wss.external.send_timeout = 15s

listener.wss.external.send_timeout_close = on





listener.wss.external.reuseaddr = true


listener.api.mgmt = 0.0.0.0:8081

listener.api.mgmt.acceptors = 4

listener.api.mgmt.max_clients = 64

listener.api.mgmt.access.1 = allow all

listener.api.mgmt.backlog = 512

listener.api.mgmt.send_timeout = 15s

listener.api.mgmt.send_timeout_close = on


sysmon.long_gc = false

sysmon.long_schedule = 240

sysmon.large_heap = 8MB

sysmon.busy_port = false

sysmon.busy_dist_port = true

